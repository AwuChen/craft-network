(this["webpackJsonpgraph-viz"]=this["webpackJsonpgraph-viz"]||[]).push([[0],{138:function(e,t,n){},175:function(e,t,n){e.exports=n(233)},180:function(e,t,n){},233:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(107),o=n.n(c),i=(n(180),n(138),n(6)),s=n.n(i),u=n(15),d=n(14),l=n(170),E=n(5),p=n(171),v=function(e){var t=e.addNode,n=e.setDebugMessage,r=Object(E.n)();Object(E.p)();return a.a.useEffect((function(){(function(){var e=Object(u.a)(s.a.mark((function e(){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n("NFC tap detected! Generating new user..."),r="User-".concat(Date.now()),e.prev=2,e.next=5,t(r);case 5:n("User ".concat(r," added successfully! Redirecting...")),e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),n("Error adding user: ".concat(e.t0.message)),console.error("Error adding user:",e.t0),e.abrupt("return");case 13:setTimeout((function(){window.location.hash.includes("NFC")&&(n("Forcing redirect due to mobile issue..."),window.location.replace("/#/"))}),1e3);case 14:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}})()()}),[r]),a.a.createElement("div",{style:{textAlign:"center",padding:"20px",fontSize:"16px",color:"red"}},"Processing NFC tap...")},m=function(e){var t=e.setDebugMessage;return a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){return t("Simulate button clicked!")}},"Simulate"),a.a.createElement(p.a,{graphData:{nodes:[],links:[]},nodeId:"name",nodeLabel:"name"}))},g=function(e){var t=e.driver,n=Object(r.useState)("Initializing..."),c=Object(d.a)(n,2),o=c[0],i=c[1],p=function(){var e=Object(u.a)(s.a.mark((function e(n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i("Adding user ".concat(n," to Neo4j...")),r=t.session({database:"neo4j"}),e.prev=2,e.next=5,r.run("MERGE (u:User {name: $user}) MERGE (prev:User {name: $prevUser}) MERGE (u)-[:CONNECTED_TO]->(prev)",{user:n,prevUser:"Root"});case 5:i("User ".concat(n," added successfully!")),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),i("Error adding user: ".concat(e.t0.message)),console.error("Error adding user:",e.t0);case 12:r.close();case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(l.a,null,a.a.createElement("div",null,a.a.createElement("div",{style:{padding:"10px",background:"#fff4c2",textAlign:"center",borderBottom:"2px solid black"}},a.a.createElement("strong",null,"Debug:")," ",o),a.a.createElement(E.c,null,a.a.createElement(E.a,{path:"/NFC",element:a.a.createElement(v,{addNode:p,setDebugMessage:i})}),a.a.createElement(E.a,{path:"/",element:a.a.createElement(m,{setDebugMessage:i})}))))};var f=function(e){var t=e.driver;return a.a.createElement("div",{className:"App"},a.a.createElement(g,{driver:t}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var O=n(135),b=O.driver(Object({NODE_ENV:"production",PUBLIC_URL:"/craft-network",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).NEO4J_URI||"neo4j+s://7714be1a.databases.neo4j.io",O.auth.basic(Object({NODE_ENV:"production",PUBLIC_URL:"/craft-network",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).NEO4J_USER||"neo4j",Object({NODE_ENV:"production",PUBLIC_URL:"/craft-network",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).NEO4J_PASSWORD||"lwW-hWpruNTNNrD-gCAMreXMZcUlAFcrjxmaeL94ZzM"),{});o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(f,{driver:b})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[175,1,2]]]);
//# sourceMappingURL=main.c8fb9793.chunk.js.map